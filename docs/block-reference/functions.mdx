---
sidebar_position: 2.5
---

import useBaseUrl from "@docusaurus/useBaseUrl";
import Anigif from "../../src/components/Anigif";
import RetinaImg from "../../src/components/RetinaImg";

# Functions

## Overview

Functions allow you to structure your block program. In the same way as a precomp wraps an entire collection of layers into a single layer, a function can wrap a stack of blocks into a single block.

<RetinaImg
  src="/img/blockOther/procedures_defnoreturn_example.png"
  alt="Creating a function"
/>

## Create Function {#procedures_defnoreturn}

<RetinaImg
  src="/img/blockScreenshots/Functions/procedures_defnoreturn.png"
  alt="Block procedures_defnoreturn"
/>

With the _Create Function_ block you can make create your own function. Just replace the text _"do something"_ with a text which describes what your function does and plug the blocks inside of it, which the function should execute.

**Example**

<RetinaImg
  src="/img/blockOther/procedures_defnoreturn_example_bins.png"
  alt="Creating a function in Automation Blocks"
/>

Here we replaced _"do something"_ with _"create my usual bins"_ and plugged the blocks inside, which create project bins for audio, video and precomps. As a result, among the blocks in the category "functions" you now find a new block called _"create my usual bins"_, which creates all these bins. You can think of this little block as a shorthand for the three blocks that you have plugged into the function definition.

:::tip Structure Your Scripts

If your scripts tend to become long, it can help to structure them into individual parts using functions. Say you need to first import some footage, then create some comps and finally put something in the render queue. Then you can wrap each of these three tasks into a separate function, such that your main script just consists of three function calls.

This is a very good way of documenting, what your script is doing. If you wrap a part of your code into a function, you effectively give that part of your code a descriptive name and isolate it from other parts.

:::

:::tip Collapse Functions

You can right-click on a "Create Function" block and choose "collapse". That way, the entire content of the function is hidden and saves you a lot of space.

:::

### Functions with Arguments

If you think of functions as precomps, then arguments are your master properties. With master properties you can use the same precomp many times, but customize it each time you use it by setting the master properties to a different value. In the same way, a function can have arguments and each time you call the function you can pass it a different value for that argument.

You can add, remove and rename arguments by clicking on the blue cog wheel icon of the block which defines the function. Here we added an argument with name "my argument" to a function:

<RetinaImg
  src="/img/blockOther/procedures_defnoreturn_example_with_argument.png"
  alt="Creating a function with an Arguments"
/>

For each argument the function block creates a [variable](variables.mdx) and when the function is executed, the variable will have the value that you passed as argument to the function call.

<RetinaImg
  src="/img/blockOther/procedures_defnoreturn_example_with_argument_2.png"
  alt="Creating a function with an Arguments 2"
/>

In this example the function "say hello" is called two times, one time with argument "Victoria" and one time with argument "Sue". Hence, during the first execution the function alerts the message "Hello Victoria!" and during the second execution the message "Hello Sue!"

### Return in Functions {#procedures_ifreturn}

When a function is executed, usually the entire block stack of the function is executed. But
with an **If Return** block you can stop the execution of a function anywhere in the middle of a block stack.

Here is an example:

<RetinaImg
  src="/img/blockScreenshots/Functions/procedures_ifreturn.png"
  alt="Block procedures_defreturn"
/>

This function shows two messages using an [alert](userInterfaceAndComments.mdx#block_extendscript_alert) block. The first message is always executed. But the second message is only shown if there is an active comp in the After Effects project. We achieve this with the "not has active comp" condition, which quits the execution of the function if there is no active composition.

### Functions with Return Values {#procedures_defreturn}

In the category "Functions" of the block library, you also find a block to create functions with an extra return parameter:
<RetinaImg
  src="/img/blockScreenshots/Functions/procedures_defreturn.png"
  alt="Block procedures_defreturn"
/>

These functions have corresponding function call blocks with a round shape, which indicates that they actually return a value. The functions work exactly in the same way, except that after all blocks you pluged into the function have been executed, the value you specify in the *"return"* parameter is used as end result.

**Example**

<RetinaImg
  src="/img/blockOther/procedures_defreturn_example.png"
  alt="Creating a function which returns a value"
/>

This "get random label color index"
block returns a different random number
in the range 1-16 each time it is
called. Note that in this case, the main
code block of the funciton definition is
empty. But if the calculation of the
random number would require any
preparational steps, then you could plug
those into the function definition.
